<!-- My Secrets Section -->
<div class="pixel-card fade-in">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
        <h3 style="text-align: center; flex: 1;">
            ▓ ENCRYPTED ARCHIVES ▓
        </h3>
        <button 
            @click="loadSecrets()"
            class="pixel-btn"
            style="font-size: 12px;"
            :disabled="loadingSecrets"
        >
            <span x-show="!loadingSecrets">▓ REFRESH ▓</span>
            <span x-show="loadingSecrets">▓ LOADING ▓</span>
        </button>
    </div>

    <!-- Loading State -->
    <div x-show="loadingSecrets" style="text-align: center; padding: 32px 0; color: #666666;">
        <div style="margin-bottom: 8px;">████████████████</div>
        <p style="font-size: 12px;">SCANNING ARCHIVES...</p>
    </div>

    <!-- Secrets List -->
    <div x-show="!loadingSecrets && secrets.length > 0" style="margin-bottom: 16px;">
        <template x-for="secret in secrets" :key="secret.id">
            <div class="pixel-list-item">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div style="flex: 1;">
                        <div style="margin-bottom: 8px;">
                            <input 
                                :value="SecurityUtils.sanitizeCustomName(secret.custom_name || 'UNTITLED_SECRET')"
                                @blur="updateSecretName(secret, SecurityUtils.sanitizeCustomName($event.target.value))"
                                @keyup.enter="$event.target.blur()"
                                class="pixel-input"
                                style="background: transparent; border: 1px solid #333; font-size: 12px; padding: 4px; width: 200px;"
                                placeholder="ENTER_NAME..."
                                maxlength="100"
                            >
                            <span x-show="secret.updating" style="margin-left: 8px; color: #666666; font-size: 12px;">
                                UPDATING...
                            </span>
                        </div>
                        <div style="font-size: 12px; color: #666666; font-family: 'Courier New', monospace;">
                            ID: <span x-text="secret.id"></span>
                        </div>
                        <div style="font-size: 12px; margin-top: 4px;"
                             :style="{
                               color: secret.time_remaining_type === 'minutes' || secret.time_remaining_type === 'expired' ? '#ff0000' :
                                      secret.time_remaining_type === 'hours' ? '#ffff00' :
                                      secret.time_remaining_type === 'permanent' ? '#00ff00' : '#cccccc'
                             }">
                            <span x-text="secret.time_remaining_display || (secret.days_remaining === -1 ? 'PERMANENT' : secret.days_remaining + ' DAYS_LEFT')"></span>
                        </div>
                    </div>
                    <div style="display: flex; gap: 8px;">
                        <button 
                            @click="openSecret(secret.id)"
                            class="pixel-btn"
                            style="padding: 4px 8px; font-size: 12px;"
                            title="Open Secret"
                        >
                            ▓ OPEN ▓
                        </button>
                        <button 
                            @click="deleteSecret(secret)"
                            class="pixel-btn"
                            style="padding: 4px 8px; font-size: 12px; background: #330000; border-color: #ff0000;"
                            title="Delete Secret"
                            :disabled="deletingSecrets[secret.id] || false"
                        >
                            <span x-show="!deletingSecrets[secret.id]">▓ DEL ▓</span>
                            <span x-show="deletingSecrets[secret.id]">DELETING</span>
                        </button>
                    </div>
                </div>
            </div>
        </template>
    </div>

    <!-- Empty State -->
    <div x-show="!loadingSecrets && secrets.length === 0" style="text-align: center; padding: 32px 0; color: #666666;">
        <div style="font-size: 16px; margin-bottom: 16px;">▓ ▓ ▓ ▓ ▓</div>
        <p style="font-size: 12px;">NO ARCHIVES FOUND<br>CREATE YOUR FIRST SECRET ABOVE</p>
    </div>

    <!-- Pagination -->
    <div x-show="!loadingSecrets && (pagination.page > 1 || pagination.has_more)" style="display: flex; justify-content: center; align-items: center; gap: 8px; margin-top: 16px;">
        <button 
            @click="loadSecrets(pagination.page - 1)"
            :disabled="pagination.page <= 1"
            class="pixel-btn"
            style="font-size: 12px; padding: 4px 8px;"
        >
            ◄
        </button>
        <span class="pixel-border" style="padding: 4px 8px; font-size: 12px;">
            PAGE <span x-text="pagination.page"></span>
        </span>
        <button 
            @click="loadSecrets(pagination.page + 1)"
            :disabled="!pagination.has_more"
            class="pixel-btn"
            style="font-size: 12px; padding: 4px 8px;"
        >
            ►
        </button>
    </div>
</div>