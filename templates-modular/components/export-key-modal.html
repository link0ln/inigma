<!-- Export Key Modal -->
<div x-show="showExportKeyModal" 
     x-transition:enter="transition ease-out duration-300" 
     x-transition:enter-start="opacity-0" 
     x-transition:enter-end="opacity-100" 
     x-transition:leave="transition ease-in duration-200" 
     x-transition:leave-start="opacity-100" 
     x-transition:leave-end="opacity-0"
     class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
    <div x-show="showExportKeyModal" 
         x-transition:enter="transition ease-out duration-300" 
         x-transition:enter-start="opacity-0 scale-95" 
         x-transition:enter-end="opacity-100 scale-100" 
         x-transition:leave="transition ease-in duration-200" 
         x-transition:leave-start="opacity-100 scale-100" 
         x-transition:leave-end="opacity-0 scale-95"
         @click.away="showExportKeyModal = false"
         class="bg-gradient-to-br from-purple-900/90 to-blue-900/90 backdrop-blur-lg rounded-2xl p-8 max-w-md w-full border border-white/20 shadow-2xl">
        
        <div class="flex justify-between items-center mb-6">
            <h3 class="text-xl font-bold text-white">
                <i class="fas fa-download mr-2"></i>Export Symmetric Key
            </h3>
            <button @click="showExportKeyModal = false" 
                    class="text-white/60 hover:text-white transition-colors">
                <i class="fas fa-times text-xl"></i>
            </button>
        </div>
        
        <div class="mb-6">
            <p class="text-white/80 text-sm mb-4">
                This is your symmetric encryption key. Keep it secure and never share it publicly.
            </p>
            
            <div class="relative">
                <textarea 
                    x-model="exportedSymmetricKey"
                    :type="showExportedKey ? 'text' : 'password'"
                    readonly
                    class="w-full px-4 py-3 rounded-lg bg-white/10 border border-white/20 text-white font-mono text-sm resize-none h-24 focus:outline-none focus:border-white/40"
                    :class="showExportedKey ? '' : 'text-security-disc'"
                    :style="showExportedKey ? '' : '-webkit-text-security: disc; text-security: disc;'"
                    placeholder="Loading key..."
                ></textarea>
            </div>
        </div>
        
        <div class="flex gap-3">
            <button 
                @click="toggleExportedKeyVisibility()"
                class="flex-1 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-lg transition-all text-sm text-white"
            >
                <i :class="showExportedKey ? 'fas fa-eye-slash' : 'fas fa-eye'" class="mr-2"></i>
                <span x-text="showExportedKey ? 'Hide' : 'Show'"></span>
            </button>
            
            <button 
                @click="copyExportedKeyToClipboard()"
                class="flex-1 px-4 py-2 bg-blue-500/60 hover:bg-blue-600/70 rounded-lg transition-all text-sm text-white"
            >
                <i class="fas fa-copy mr-2"></i>Copy Key
            </button>
        </div>
        
        <div class="mt-4 p-3 bg-amber-500/20 border border-amber-500/30 rounded-lg">
            <p class="text-amber-200 text-xs">
                <i class="fas fa-exclamation-triangle mr-1"></i>
                Warning: Anyone with this key can decrypt your secrets. Store it securely.
            </p>
        </div>
    </div>
</div>
